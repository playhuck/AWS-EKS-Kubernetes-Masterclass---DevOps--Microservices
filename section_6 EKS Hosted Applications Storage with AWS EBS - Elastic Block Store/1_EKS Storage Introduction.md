- EKS Storage Introduction
    
    
    aws eks 스토리지 개요,
    
    EKS 스토리지에는 다양한 종류의 드라이버와 프로비저너가 있다.
    
    - In-Tree EBS Provisioner
        - 레거시이며, 곧 지원이 중단될 예정
    - EBS CSI Driver
        - 주로 사용할 드라이버
    - EFS CSI Driver
        - 주로 사용할 드라이버
    - FSx for Luster CSI
        - 주로 사용할 드라이버
    
    CSI는 Container Storage Interface를 의미한다.
    
    EBS는 Persistant Volume을 위한 Elastic block storage이다. EBS CSI 드라이버를 사용할 수 있으며, 또한 AWS에서 완전히 관리하는 파일 시스템인 Elastic 파일 시스템(EFS)을 사용할 수 있다. EFS CSI 드라이버를 사용할 수 있으며, 일반적인 FSX 4 클러스터 CSI도 Windows 파일 시스템용으로 제공된다. 하지만 이번 강의에서는 주로 EBS CSI 드라이버에 대해 다룰 것이다.
    
    강의에서 이 EBS CSI 드라이버를 사용하여 AWS의 EBS 서비스를 활용하여 MySQL 데이터베이스의 퍼시스턴트 볼륨 마운트를 할 것이다. 이 드라이버는 최신 베타 릴리스로, 현재는 프로덕션 사용이 가능하다.
    
    이 드라이버는 AWS EKS Fargate에서는 지원되지 않습니다. Fargate는 서버리스 인프라로, EKS 클러스터가 EBS 볼륨, EFS 파일 시스템, FXS for luster 파일 시스템의 생명 주기를 관리할 수 있도록 한다. EKS는 EBS, EFS, FXS와 같은 서비스의 전체 생명 주기를 관리할 수 있다.
    
    EBS와 EFS는 Kubernetes 1.14 및 이후 버전에서 지원되며, FSX for cluster CSI는 1.16 및 최신 옵션에서 지원된다.
    
    EBS는 EC2 및 컨테이너 인스턴스와 함께 사용할 수 있는 블록 수준 스토리지 볼륨을 제공한다.
    
    인스턴스에 연결된 EBS 볼륨은 EC2 또는 컨테이너 인스턴스의 수명과 독립적으로 지속된다. 간단히 말해, EC2 인스턴스를 종료하거나 컨테이너 인스턴스 또는 해당 Kubernetes 파드가 종료되더라도 볼륨은 독립적으로 유지된다. 따라서 볼륨에 저장된 데이터에 대해 걱정할 필요가 없다.
    
    인스턴스에 연결된 볼륨의 구성을 동적으로 변경할 수 있다. 볼륨의 크기를 늘리거나 줄일 수 있다. AWS는 빠르게 접근해야 하고 장기적으로 저장해야 하는 데이터에 EBS를 권장한다. EBS는 무작위 읽기 및 쓰기가 필요한 데이터베이스 스타일 애플리케이션과 장기간 연속적인 읽기 및 쓰기를 수행하는 처리 집약적인 애플리케이션 모두에 적합하다.
    
    EKS 클러스터에서 MySQL 배포를 생성할 것이다. 이 MySQL 배포를 위해 탄력적 블록 스토리지(EBS)를 볼륨 마운트로 활용할 것이다. MySQL 데이터베이스의 데이터 볼륨 마운트를 EBS로 사용할 것이다. 이 배포를 생성할 때 몇 가지 Kubernetes 개념을 배워야 한다. 스토리지 클래스, 퍼시스턴트 볼륨 클레임, 구성 맵, 환경  변수, 볼륨, 볼륨 모드를 학습할 것이다.
    
    스토리지 클래스 관련 Kubernetes 매니페스트, 퍼시스턴트 볼륨 관련 매니페스트, 구성 맵 관련 매니페스트, 환경 변수, 볼륨, 볼륨 마운트, 클러스터 IP 매니페스트를 생성할 것이다. 1, 2, 3, 4개의 파일 매니페스트를 완료한 후 다음 단계로 넘어갈 것이다.